<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout">
<head>
<meta charset="UTF-8"/>
<title th:text="#{user.new}">Insert title here</title>
</head>
	<body>
		<div layout:fragment="content">
			<div class="container">
				<div class="panel panel-default">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-9">
								<p th:text="#{user.new}"></p>
								<a th:href="@{/user/all}" th:text="#{user.all}"></a>
							</div>
							<div class="col-xs-3 pull-right">
								<img th:src="@{/img/icon/user48x48.png}" alt="Hisab Kitab" />
							</div>
						</div>
					</div>
					<div class="panel-body">
						<!-- new user registration by admin -->
						<form th:action="@{/user/new}" th:method="post" th:object="${register}" id="addUser" role="form">
            				<fieldset>
	            				<legend> 
	            					<p>Field with <span class="required">*</span> are required</p>
	            				</legend>
					            <div class="form-group"> 	 
					                <div th:if="${invalidName}" class="alert alert-danger">
					                	<p>Invalid name. Name must be between 3 and 50 characters.</p>
					                </div>
					                <label for="name"><span class="required">* </span>Name: </label>
					                <input type="text" th:field="*{name}" class="form-control" /> 
					                <!-- this field is not working -->
									<div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="alert alert-danger">
										<p>Name is invalid</p>
									</div>
					                <p class="help-block">Please provide full name for the user</p>
					            </div>
					            <div class="form-group">
					            	<div th:if="${invalidEmail}" class="alert alert-danger">
					                	<p>Invalid Email.</p>
					                </div>
					                <label for="email"><span class="required">* </span> Email Address: </label> 
					                <input class="form-control" type="email" th:field="*{email}"/>
					                <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="alert alert-danger">
					                	<p>Email is invalid</p>
					                </div>
					                <p class="help-block">Please provide a valid email address. Activation link will be sent to this email</p>
					            </div>
					            <div class="form-group">
					                <label for="password"><span class="required">* </span> Password: </label>
					                <input type="password" th:field="*{password}" class="form-control"/>
					            </div>
						        <div class="form-group">
						            <input class="btn btn-success" type="submit" name="Register" value="Register"/>
						        </div>

				            </fieldset>
				    	</form><!-- ends register form -->
						
					</div>
				</div>
			</div>
		</div>
	</body>
</html>